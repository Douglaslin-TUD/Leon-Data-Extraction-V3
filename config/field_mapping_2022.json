{
  "metadata": {
    "template_name": "Verzamelstaat_2022c.xlsx",
    "sheet_name": "Blad1",
    "version": "1.0",
    "date_created": "2025-11-05",
    "description": "Field mapping configuration for 2022 RWS road maintenance data template",
    "total_fields": 26,
    "critical_fields": 16,
    "non_critical_fields": 10
  },
  "fields": [
    {
      "field_number": 1,
      "field_name_nl": "NAAM OPDRACHTNEMER",
      "field_name_en": "Contractor Name",
      "field_name_cn": "承包商名称",
      "data_type": "string",
      "required": true,
      "classification": "non-critical",
      "category": "organizational_info",
      "validation_rules": {
        "min_length": 1,
        "max_length": 200
      },
      "description": "Name of the contractor executing the road maintenance work"
    },
    {
      "field_number": 2,
      "field_name_nl": "DISTRICT",
      "field_name_en": "District",
      "field_name_cn": "区域",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "organizational_info",
      "validation_rules": {
        "enum": ["NN-Oost", "Zee en Delta", "Noord", "Oost", "Zuid", "West"]
      },
      "description": "RWS management district"
    },
    {
      "field_number": 3,
      "field_name_nl": "ZAAKNUMMER",
      "field_name_en": "Case Number",
      "field_name_cn": "案件编号",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "project_identification",
      "validation_rules": {
        "pattern": "^[A-Z0-9-]+$"
      },
      "description": "RWS internal project tracking number"
    },
    {
      "field_number": 4,
      "field_name_nl": "Weg",
      "field_name_en": "Road Number",
      "field_name_cn": "道路编号",
      "data_type": "string",
      "max_length": 6,
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "data_flow": {
        "input_stage": {
          "description": "Accept multiple format variants from contractors",
          "accepted_formats": ["numeric", "A_prefix", "RW_prefix"],
          "examples": ["1", "21", "A1", "A21", "RW1", "RW001", "RW21", "RW021"],
          "pattern": "^(\\d{1,3}|A\\d{1,3}|RW\\d{1,4})$"
        },
        "normalization_stage": {
          "description": "Standardize to unified format with leading zero removal",
          "process": [
            "1. Strip prefixes (A/RW)",
            "2. Convert to integer (removes leading zeros)",
            "3. Add 'A' prefix"
          ],
          "examples": {
            "1": "A1",
            "21": "A21",
            "A1": "A1",
            "A21": "A21",
            "RW001": "A1",
            "RW021": "A21",
            "RW28": "A28"
          },
          "storage_format": "A{number}",
          "remove_leading_zeros": true
        },
        "storage_stage": {
          "description": "Store in database with unified format",
          "db_type": "VARCHAR(6)",
          "format": "A{number}",
          "examples": ["A1", "A21", "A28", "A200"],
          "no_leading_zeros": true,
          "reason_for_varchar": "Preserve 'A' prefix, support future N-roads, consistency with other text fields"
        },
        "output_stage": {
          "description": "Convert to pure number for Excel export",
          "process": [
            "1. Remove 'A' prefix",
            "2. Convert to integer",
            "3. Output as Number type in Excel"
          ],
          "examples": {
            "A1": 1,
            "A21": 21,
            "A28": 28,
            "A200": 200
          },
          "excel_type": "Number",
          "no_text_formatting": true
        }
      },
      "validation_rules": {
        "input_pattern": "^(\\d{1,3}|A\\d{1,3}|RW\\d{1,4})$",
        "accepted_formats": ["numeric", "A_prefix", "RW_prefix"],
        "normalization_required": true,
        "N_roads_warning": "N roads are provincial roads, not national highways"
      },
      "format_examples": {
        "current_data": ["1", "28", "50", "200", "835"],
        "future_possible": ["A1", "RW001", "RW021", "RW28"],
        "equivalent_values": {
          "note": "All these input formats become the same stored value",
          "A1": {
            "inputs": ["1", "A1", "RW1", "RW001"],
            "stored_as": "A1",
            "excel_output": 1
          },
          "A21": {
            "inputs": ["21", "A21", "RW21", "RW021"],
            "stored_as": "A21",
            "excel_output": 21
          },
          "A28": {
            "inputs": ["28", "A28", "RW28", "RW028"],
            "stored_as": "A28",
            "excel_output": 28
          },
          "A200": {
            "inputs": ["200", "A200", "RW200"],
            "stored_as": "A200",
            "excel_output": 200
          }
        },
        "NOT_equivalent": {
          "note": "N roads are provincial, NOT national highways",
          "example": "N200 ≠ A200 (different road systems)"
        }
      },
      "road_classification": {
        "A_RW": {
          "type": "National Highway",
          "description": "Autosnelweg/Rijksweg - RWS managed national highways",
          "equivalence": "A and RW prefixes represent the same road",
          "prefixes": ["A", "RW"],
          "leading_zero_handling": "Automatically removed during normalization"
        },
        "N": {
          "type": "Provincial Road",
          "description": "Nationale weg - Provincial roads, NOT RWS managed",
          "should_appear": false,
          "action_if_found": "Mark as warning - data may be incorrect",
          "storage_handling": "Keep original format (N200) if encountered",
          "excel_output": "Output as text (N200) not number"
        }
      },
      "data_statistics": {
        "total_roads": 34,
        "range": "1-835",
        "most_common": [
          {"road": "28", "count": 422, "percentage": 26.5},
          {"road": "1", "count": 369, "percentage": 23.2},
          {"road": "50", "count": 133, "percentage": 8.4}
        ]
      },
      "description": "National highway number (Rijksweg). Input accepts 1/A1/RW1/RW001, stores as A1, outputs as 1 in Excel. Leading zeros automatically removed. A and RW are equivalent. N roads are provincial roads."
    },
    {
      "field_number": 5,
      "field_name_nl": "BAAN",
      "field_name_en": "Carriageway",
      "field_name_cn": "车道类型",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "pattern": "^(\\d{1})(VW|HR[LRM])$"
      },
      "description": "Carriageway classification code (0VW, 1HRL, 1HRR, 0HRM, etc.)",
      "direction_relationship": {
        "concept": "BAAN字段类型决定了该车道相对于道路oriëntatierichting（标准方向）的行驶方向",
        "importance": "CRITICAL - BAAN类型直接影响VAN/TOT字段的大小关系验证",
        "baan_types": {
          "1HRR": {
            "full_name": "Hoofdrijbaan Rechts",
            "full_name_en": "Right Main Carriageway",
            "full_name_cn": "右侧主车道",
            "orientation": "WITH（沿oriëntatierichting）",
            "direction": "顺向行驶",
            "van_tot_relationship": "TOT > VAN",
            "explanation": "右侧主车道沿着道路标准方向行驶，公里标递增",
            "data_percentage": "主要类型之一"
          },
          "1HRL": {
            "full_name": "Hoofdrijbaan Links",
            "full_name_en": "Left Main Carriageway",
            "full_name_cn": "左侧主车道",
            "orientation": "AGAINST（逆oriëntatierichting）",
            "direction": "逆向行驶",
            "van_tot_relationship": "VAN > TOT",
            "explanation": "左侧主车道逆着道路标准方向行驶（对向交通），公里标递减",
            "data_percentage": "44.5%的数据（709行）",
            "critical_note": "VAN > TOT在1HRL上是正常现象，不是错误！"
          },
          "0HRM": {
            "full_name": "Hoofdrijbaan Midden",
            "full_name_en": "Middle Main Carriageway",
            "full_name_cn": "中间主车道",
            "orientation": "WITH（沿oriëntatierichting，默认取右向）",
            "direction": "双向车道，记录时以右向为准",
            "van_tot_relationship": "TOT > VAN",
            "explanation": "中间车道同时容纳双向交通，但路段定义遵循标准方向",
            "special_rule": "必须同时包含1R-R和1R-L车道",
            "typical_location": "交叉路口或铁路道口"
          },
          "0VW": {
            "full_name": "Verbindingsweg",
            "full_name_en": "Connecting Road/Ramp",
            "full_name_cn": "连接道/匝道",
            "orientation": "WITH（沿oriëntatierichting）",
            "direction": "遵循主路标准方向",
            "van_tot_relationship": "TOT > VAN",
            "explanation": "匝道通常遵循其连接的主路的标准方向系统",
            "special_rule": "需要WEGLET字段（a/b/c/d）"
          },
          "PWL": {
            "full_name": "Parallelweg Links",
            "full_name_en": "Left Parallel Road",
            "full_name_cn": "左侧平行路",
            "orientation": "AGAINST（逆oriëntatierichting）",
            "direction": "与1HRL同向，逆标准方向",
            "van_tot_relationship": "VAN > TOT",
            "explanation": "平行路与左侧主车道方向一致，逆向行驶",
            "data_percentage": "0.25%（4行）",
            "note": "平行于1HRL的辅道"
          }
        },
        "validation_impact": {
          "related_rules": ["CROSS-VAN-TOT-DIRECTION", "CALC-001"],
          "with_orientation_types": ["1HRR", "0HRM", "0VW"],
          "against_orientation_types": ["1HRL", "PWL"],
          "critical_understanding": "BAAN类型是验证VAN/TOT关系的核心依据"
        },
        "data_evidence": {
          "total_rows": 1592,
          "with_orientation_count": 883,
          "with_orientation_percentage": 55.5,
          "against_orientation_count": 709,
          "against_orientation_percentage": 44.5,
          "conclusion": "两种方向关系都是正常数据，必须根据BAAN类型分别验证"
        },
        "references": {
          "concept_source": "metadata.domain_concepts.oriëntatierichting",
          "validation_rule": "CROSS-VAN-TOT-DIRECTION",
          "data_analysis": "Template_2022_Complete_Field_Reference.md 字段5分析"
        },
        "date_added": "2025-11-05"
      }
    },
    {
      "field_number": 6,
      "field_name_nl": "WEGLET (zie toelichting blad 2)",
      "field_name_en": "Road Letter",
      "field_name_cn": "道路字母标识",
      "data_type": "string",
      "required": false,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "pattern": "^[a-z]$"
      },
      "description": "Road subdivision letter (a-z), particularly important for 0VW types"
    },
    {
      "field_number": 7,
      "field_name_nl": "VAN (graag tot min. 10 meter nauwkeurig)",
      "field_name_en": "From (Kilometer)",
      "field_name_cn": "起始位置",
      "data_type": "number",
      "unit": "kilometer",
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "type": "float",
        "min": -10,
        "max": 1000,
        "precision": 1,
        "european_format": true
      },
      "description": "Starting position in kilometers (can be negative)",
      "oriëntatierichting": {
        "description": "道路标准方向系统 (Road standard direction system)",
        "explanation": "VAN表示起点公里标位置。根据道路的oriëntatierichting（标准方向），VAN可以大于或小于TOT",
        "direction_rules": {
          "with_orientation": "沿标准方向时，VAN < TOT（公里标递增）",
          "against_orientation": "逆标准方向时，VAN > TOT（公里标递减）",
          "depends_on": "BAAN字段决定行驶方向"
        }
      },
      "critical_correction": {
        "date": "2025-11-05",
        "old_understanding": "单位是百米 (hectometer, hm)",
        "correct_understanding": "单位是公里 (kilometer, km)",
        "impact": "避免44.5%的数据被误判为错误"
      }
    },
    {
      "field_number": 8,
      "field_name_nl": "TOT (graag tot min. 10 meter nauwkeurig)",
      "field_name_en": "To (Kilometer)",
      "field_name_cn": "结束位置",
      "data_type": "number",
      "unit": "kilometer",
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "type": "float",
        "min": -10,
        "max": 1000,
        "precision": 1,
        "european_format": true
      },
      "description": "Ending position in kilometers",
      "directional_logic": {
        "description": "TOT与VAN的大小关系取决于BAAN类型",
        "note": "VAN > TOT 在某些BAAN类型上是正常的（44.5%的数据）",
        "examples": {
          "1HRR": "TOT > VAN（公里标递增）",
          "1HRL": "VAN > TOT（公里标递减）",
          "PWL": "VAN > TOT（跟随1HRL）"
        },
        "see_also": "CROSS-VAN-TOT-DIRECTION规则"
      },
      "critical_correction": {
        "date": "2025-11-05",
        "old_rule_removed": "must_be_gte: VAN（错误规则已删除）",
        "reason": "VAN > TOT在44.5%数据中是正常现象，不是错误"
      }
    },
    {
      "field_number": 9,
      "field_name_nl": "STROOK",
      "field_name_en": "Lane",
      "field_name_cn": "车道编号",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "lane_identification",
      "validation_rules": {
        "pattern": "^(\\d{1}[RWUIQB]-[LR]|ALL)$",
        "multiple_lanes_pattern": "^\\d{1}[RWUIQB]-[LR](,\\s*\\d{1}[RWUIQB]-[LR])+$"
      },
      "lane_types": {
        "R": "Rijstrook (Regular lane)",
        "W": "Weefstrook (Weaving lane)",
        "I": "Invoegstrook (Acceleration lane)",
        "U": "Uitvoegstrook (Deceleration lane)",
        "Q": "Spitsstrook (Rush hour lane)",
        "B": "Busstrook (Bus lane)",
        "ALL": "Rijbaanbreed (Full carriageway width)"
      },
      "description": "Lane identification with type and direction",
      "data_extraction_rules": {
        "importance": "CRITICAL - 影响数据提取的行数",
        "multiple_lanes_handling": {
          "description": "当STROOK字段包含多个车道（逗号分隔）时的处理规则",
          "rule": "将一行原始数据拆分为多行数据库记录，每行代表一个独立车道",
          "format": "多个车道用逗号+空格分隔，例如: '2R-R, 1Q-R'",
          "splitting_logic": {
            "step1": "检测STROOK字段是否包含逗号",
            "step2": "按逗号分割车道列表",
            "step3": "为每个车道创建独立的数据库记录",
            "step4": "除STROOK字段外，其他字段值保持完全一致"
          },
          "example": {
            "original_excel_row": {
              "Weg": "12",
              "BAAN": "1HRR",
              "STROOK": "2R-R, 1Q-R",
              "VAN": 10.5,
              "TOT": 12.3,
              "DEKLAAGSOORT": "DZOAB",
              "note": "1行原始数据"
            },
            "extracted_database_records": [
              {
                "Weg": "12",
                "BAAN": "1HRR",
                "STROOK": "2R-R",
                "VAN": 10.5,
                "TOT": 12.3,
                "DEKLAAGSOORT": "DZOAB",
                "note": "第1条数据库记录"
              },
              {
                "Weg": "12",
                "BAAN": "1HRR",
                "STROOK": "1Q-R",
                "VAN": 10.5,
                "TOT": 12.3,
                "DEKLAAGSOORT": "DZOAB",
                "note": "第2条数据库记录"
              }
            ],
            "result": "1行Excel → 2行数据库记录"
          },
          "business_meaning": "多个车道意味着这些车道都进行了相同的维修工作，需要分别记录以便后续按车道统计、查询和分析",
          "implementation_note": "提取器(extractor)必须实现此拆分逻辑，否则会丢失车道级别的详细信息"
        },
        "single_lane_handling": {
          "description": "当STROOK字段只包含单个车道时",
          "rule": "直接映射为一条数据库记录，无需拆分",
          "examples": ["1R-L", "2R-R", "1Q-R", "ALL"]
        },
        "validation_after_split": {
          "description": "拆分后每条记录的验证",
          "rules": [
            "每个STROOK值必须符合单车道格式: ^\\d{1}[RWUIQB]-[LR]$ 或 ALL",
            "STROOK后缀(-L/-R)必须与BAAN类型匹配",
            "其他所有字段值在拆分记录中保持一致"
          ]
        }
      },
      "date_added": "2025-11-05",
      "last_updated": "2025-11-05"
    },
    {
      "field_number": 10,
      "field_name_nl": "Aantal rijstroken - in geval van rijbaanbreed (ALL)",
      "field_name_en": "Number of Lanes",
      "field_name_cn": "车道数量",
      "data_type": "integer",
      "required": false,
      "classification": "critical",
      "category": "lane_information",
      "validation_rules": {
        "min": 1,
        "max": 6,
        "required_when": {
          "field": "STROOK",
          "equals": "ALL"
        }
      },
      "description": "Number of lanes when full carriageway width (ALL)"
    },
    {
      "field_number": 11,
      "field_name_nl": "KM_Van",
      "field_name_en": "Kilometer From",
      "field_name_cn": "起点公里数",
      "data_type": "number",
      "unit": "kilometer",
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "type": "float",
        "min": -1,
        "max": 500,
        "precision": 3,
        "european_format": true,
        "derived_from": "VAN"
      },
      "description": "Starting position in kilometers",
      "redundancy_note": {
        "description": "冗余字段 - KM_Van与VAN值相同",
        "reason": "历史原因保留，便于用户理解（显式显示公里单位）",
        "storage": "实际数据已经是公里，无需除以10",
        "relationship": "KM_Van = VAN（相同值）"
      },
      "critical_correction": {
        "date": "2025-11-05",
        "old_formula": "VAN / 10（错误）",
        "correct_formula": "VAN（相同值）",
        "impact": "数据验证时不应期望除以10的关系"
      }
    },
    {
      "field_number": 12,
      "field_name_nl": "KM_Tot",
      "field_name_en": "Kilometer To",
      "field_name_cn": "终点公里数",
      "data_type": "number",
      "unit": "kilometer",
      "required": true,
      "classification": "critical",
      "category": "location_identification",
      "validation_rules": {
        "type": "float",
        "min": -1,
        "max": 500,
        "precision": 3,
        "european_format": true,
        "derived_from": "TOT"
      },
      "description": "Ending position in kilometers",
      "redundancy_note": {
        "description": "冗余字段 - KM_Tot与TOT值相同",
        "reason": "与KM_Van配对，显式表示公里单位",
        "directional_note": "KM_Van > KM_Tot 在某些BAAN类型上是正常的",
        "relationship": "KM_Tot = TOT（相同值）"
      },
      "critical_correction": {
        "date": "2025-11-05",
        "old_formula": "TOT / 10（错误）",
        "correct_formula": "TOT（相同值）",
        "old_rule_removed": "must_be_gte: KM_Van（错误规则已删除）",
        "reason": "KM_Van > KM_Tot在某些BAAN上是正常的"
      }
    },
    {
      "field_number": 13,
      "field_name_nl": "Lengte",
      "field_name_en": "Length",
      "field_name_cn": "长度",
      "data_type": "number",
      "unit": "kilometer",
      "required": true,
      "classification": "critical",
      "category": "quantity",
      "validation_rules": {
        "type": "float",
        "min": 0.001,
        "max": 500,
        "european_format": true,
        "derived_from": "abs(TOT - VAN)"
      },
      "description": "Total length of the work section in kilometers",
      "calculation_rules": {
        "formula": "abs(TOT - VAN)",
        "unit": "kilometer",
        "always_positive": true,
        "explanation": "路段长度永远为正值，无论VAN和TOT的大小关系如何",
        "examples": {
          "case1": "VAN=10.5, TOT=12.3 → Lengte=1.8 km",
          "case2": "VAN=12.3, TOT=10.5 → Lengte=1.8 km (相同结果)"
        }
      },
      "critical_correction": {
        "date": "2025-11-05",
        "old_unit": "meter（错误）",
        "correct_unit": "kilometer",
        "old_formula": "(TOT - VAN) * 100（错误）",
        "correct_formula": "abs(TOT - VAN)",
        "reason": "使用绝对值确保长度永远为正，单位与VAN/TOT一致"
      }
    },
    {
      "field_number": 14,
      "field_name_nl": "Breedte",
      "field_name_en": "Width",
      "field_name_cn": "宽度",
      "data_type": "number",
      "unit": "meter",
      "required": true,
      "classification": "non-critical",
      "category": "quantity",
      "validation_rules": {
        "type": "float",
        "min": 3.0,
        "max": 20.0,
        "european_format": true
      },
      "description": "Width of the pavement section in meters"
    },
    {
      "field_number": 15,
      "field_name_nl": "MENGSELCODE",
      "field_name_en": "Mixture Code",
      "field_name_cn": "混合料代码",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "material_specification",
      "validation_rules": {
        "pattern": "^[A-Z0-9\\s]+$"
      },
      "description": "Asphalt mixture code according to Dutch standards"
    },
    {
      "field_number": 16,
      "field_name_nl": "GRANULAIR MENGSEL (0/16, 4/8, 2/6, 0/11, 0/8 enz)",
      "field_name_en": "Aggregate Gradation",
      "field_name_cn": "骨料级配",
      "data_type": "string",
      "required": true,
      "classification": "non-critical",
      "category": "material_specification",
      "validation_rules": {
        "pattern": "^\\d{1,2}/\\d{1,2}$"
      },
      "common_values": ["0/16", "0/11", "0/8", "4/8", "2/6", "0/22"],
      "description": "Aggregate grain size range (min/max in mm)",
      "reclassification_note": "从关键字段改为非关键字段 - 2025-11-05"
    },
    {
      "field_number": 17,
      "field_name_nl": "DEKLAAGSOORT (bijv. ZOAB, SMA, tweelaags ZOAB, duurzaam ZOAB, etc.)",
      "field_name_en": "Surface Layer Type",
      "field_name_cn": "面层类型",
      "data_type": "string",
      "required": true,
      "classification": "critical",
      "category": "material_specification",
      "validation_rules": {
        "type": "string",
        "max_length": 100,
        "pattern": "^[A-Z0-9\\s\\+\\-\\.]+$"
      },
      "description": "Type of surface layer (wearing course) - asphalt mixture family and structural configuration",
      "naming_structure": {
        "description": "DEKLAAGSOORT命名由多层组成，需要理解各部分含义",
        "components": {
          "family": "家族/结构类型 (ZOAB, DZOAB, SMA, AC, DGD, EAB等)",
          "layer_position": "层位 (DL=Deklaag上层, OL=Onderlaag下层, TL=Toplaag上层)",
          "gradation": "粒级/细度 (8, 11, 16, fijn等)",
          "features": "附加属性 (D/+耐久, NL荷兰标准, Geel黄色, G+静音等)"
        }
      },
      "surface_layer_families": {
        "ZOAB_series": {
          "description": "多孔沥青系列 (Zeer Open Asfaltbeton) - 排水+降噪主力",
          "types": {
            "DZOAB": {
              "full_name": "Duurzaam Zeer Open Asfaltbeton",
              "name_cn": "耐久多孔沥青",
              "structure": "single_layer",
              "void_content": "zeer_open (仍然是高空隙，不是密级配)",
              "features": "耐久型、改进版ZOAB",
              "note": "DZOAB与ZOAB+都可归入耐久ZOAB家族"
            },
            "ZOAB_plus": {
              "full_name": "ZOAB+",
              "name_cn": "耐久多孔沥青+",
              "structure": "single_layer",
              "features": "改进型、耐久",
              "equivalent_to": "DZOAB (性能相似)"
            },
            "ZOAB": {
              "full_name": "Zeer Open Asfaltbeton",
              "name_cn": "标准多孔沥青",
              "structure": "single_layer",
              "usage": "常规高速主线排水降噪",
              "note": "数据中'ZOAB'和'ZOAB '(带空格)应归为同一类"
            },
            "ZOABTW": {
              "full_name": "Tweelaags ZOAB",
              "name_cn": "双层多孔沥青",
              "structure": "two_layer_system",
              "description": "双层多孔沥青面层系统，上层细级配+下层粗级配",
              "layer_notation": {
                "DL": {
                  "full_name": "Deklaag",
                  "meaning": "上层面层 (等同于Toplaag)",
                  "gradation": "fijn (细级配)",
                  "verification_status": "需与Leon确认DL是否确实=上层"
                },
                "TL": {
                  "full_name": "Toplaag (推测)",
                  "meaning": "上层面层",
                  "gradation": "fijn (细级配)",
                  "verification_status": "需与Leon确认TL是否=Toplaag而非Tussenlaag"
                },
                "OL": {
                  "full_name": "Onderlaag",
                  "meaning": "下层面层",
                  "gradation": "grof (粗级配)",
                  "verification_status": "confirmed"
                }
              },
              "redundancy_handling": {
                "description": "双层ZOAB上层必然为细级配，fijn标注为冗余信息",
                "equivalents": [
                  "ZOABTW-fijn DL ≈ ZOABTW DL",
                  "ZOABTW fijn ≈ ZOABTW (泛指)",
                  "ZOABTW fijn OL ≈ ZOABTW OL (但fijn与OL矛盾，需确认)"
                ]
              },
              "data_quality_issue": {
                "problem": "ZOABTW fijn OL 出现矛盾",
                "explanation": "OL(下层)通常为粗级配，但标注了fijn(细级配)",
                "verification_needed": "需与Leon确认是数据错误还是特殊配置"
              }
            },
            "ZOABDI": {
              "full_name": "ZOAB - Dunne Inlage",
              "name_cn": "ZOAB薄层罩面",
              "structure": "thin_overlay",
              "DI_meaning": "Dunne Inlage (薄内嵌层/薄罩面)",
              "description": "在旧ZOAB上加铺薄层ZOAB型嵌补/罩面",
              "function": "改良表面、抗剥落、延长寿命",
              "characteristics": "具有ZOAB空隙与纹理，结构上接近DGD类薄层降噪罩面",
              "classification": "独立类别，不等同于ZOABTW DL"
            },
            "ZOEAB": {
              "full_name": "Zeer Open Emulsie Asfaltbeton",
              "name_cn": "ZOAB寿命延长层 (高空隙乳化罩面)",
              "structure": "emulsion_overlay",
              "description": "高空隙乳化沥青混凝土，专门做在旧ZOAB上的寿命延长层",
              "function": [
                "修复轻度剥落的ZOAB",
                "恢复纹理",
                "封闭和延寿"
              ],
              "category": "乳化沥青养护类"
            }
          }
        },
        "SMA_series": {
          "description": "沥青玛蹄脂碎石系列 (Stone Mastic Asphalt) - 抗车辙主力",
          "types": {
            "SMA": {
              "full_name": "Stone Mastic Asphalt",
              "name_cn": "标准SMA面层",
              "features": "玛蹄脂骨架、抗车辙好"
            },
            "SMA_NL_11B": {
              "full_name": "SMA-NL 11B",
              "name_cn": "荷兰11B型SMA面层",
              "standard": "荷兰标准系列",
              "gradation": "11mm",
              "type": "B型配方"
            },
            "SMA_NL_11": {
              "full_name": "SMA-NL 11",
              "name_cn": "荷兰11型SMA面层",
              "standard": "荷兰标准系列",
              "gradation": "11mm",
              "note": "无B型细分或A/B未明示"
            },
            "SMA_8G_plus": {
              "full_name": "SMA 8G+",
              "name_cn": "8mm静音型SMA (G+变型)",
              "gradation": "8mm",
              "features": "G+型降噪SMA，专门调成更安静"
            },
            "SMA_8_Geel": {
              "full_name": "SMA 8 Geel",
              "name_cn": "黄色8mm SMA",
              "gradation": "8mm",
              "color": "Geel (黄色)",
              "verification_status": "仅确认颜色信息，性能特性需与Leon确认",
              "questions": [
                "是否有特殊声学性能？",
                "是否对应特定标准配方？",
                "还是仅项目自定义着色？"
              ]
            },
            "SMA_NL_11B_PMB_SBS_Bestone": {
              "full_name": "SMA-NL 11B PMB SBS Bestone",
              "name_cn": "改性SMA-NL 11B (PMB+SBS+Bestone)",
              "base_type": "SMA-NL 11B",
              "modifiers": {
                "PMB": "聚合物改性沥青 (Polymer Modified Bitumen)",
                "SBS": "SBS改性剂",
                "Bestone": "特定石料品牌/类型"
              },
              "note": "建议将PMB/SBS/Bestone分离到材料属性字段(字段15或新字段)"
            }
          }
        },
        "AC_series": {
          "description": "致密级配沥青混凝土系列 (Asfaltbeton) - 非多孔常规面层",
          "types": {
            "AC_16_Surf": {
              "full_name": "AC 16 Surf",
              "name_cn": "16mm AC面层",
              "gradation": "16mm (最大粒径)",
              "layer": "Surface (表层)",
              "usage": "不要求降噪的路段"
            },
            "AC_11_Surf": {
              "full_name": "AC 11 Surf",
              "name_cn": "11mm AC面层",
              "gradation": "11mm (最大粒径)",
              "layer": "Surface (表层)",
              "usage": "不要求降噪的路段"
            }
          }
        },
        "thin_layer_and_emulsion_series": {
          "description": "薄层与乳化养护类",
          "types": {
            "DGD": {
              "full_name": "Dunne Geluidreducerende Deklaag",
              "name_cn": "DGD - 薄层降噪面层",
              "structure": "thin_layer",
              "usage": "省道、市政道路以及作为ZOAB的替代型静音面层"
            },
            "EAB": {
              "full_name": "Emulsie Asfaltbeton",
              "name_cn": "EAB - 乳化沥青混凝土 (冷拌养护层)",
              "structure": "cold_mix",
              "features": "冷拌、节能",
              "usage": [
                "车辙修复",
                "旧路表面翻新",
                "纹理恢复"
              ],
              "category": "乳化/冷拌养护面层"
            }
          }
        }
      },
      "verification_required": {
        "description": "以下问题需要与Leon确认",
        "critical_questions": [
          {
            "id": "VERIFY-DL-01",
            "field": "ZOABTW DL",
            "question": "DL (Deklaag) 是否真的等同于 Toplaag (上层面层)？",
            "current_assumption": "DL = 上层",
            "impact": "如果正确，则ZOABTW DL ≈ ZOABTW TL (都是上层)",
            "priority": "HIGH"
          },
          {
            "id": "VERIFY-TL-01",
            "field": "ZOABTW TL",
            "question": "TL 是 Toplaag (上层) 还是 Tussenlaag (中间层/结合层)？",
            "current_assumption": "TL = Toplaag (上层)",
            "alternative": "TL = Tussenlaag (中间层)",
            "impact": "如果是Tussenlaag，意义完全不同（结合层而非面层）",
            "priority": "HIGH"
          },
          {
            "id": "VERIFY-ZOABTW-01",
            "field": "ZOABTW fijn OL",
            "question": "数据中出现'ZOABTW fijn OL'，但OL(下层)通常是粗级配，fijn表示细级配，这是数据错误还是特殊配置？",
            "contradiction": "fijn (细级配) vs OL (下层应为粗级配)",
            "priority": "MEDIUM"
          },
          {
            "id": "VERIFY-SMA-01",
            "field": "SMA 8 Geel",
            "question": "SMA 8 Geel除了黄色外，是否有特殊声学性能？是否有标准配方？",
            "current_knowledge": "仅确认8mm粒径 + 黄色",
            "priority": "LOW"
          }
        ],
        "data_separation_suggestion": {
          "id": "SUGGEST-01",
          "field": "SMA-NL 11B PMB SBS Bestone",
          "suggestion": "建议将PMB/SBS/Bestone等材料属性分离到字段15 (MENGSELCODE) 或创建新的材料属性字段",
          "reason": "这些是沥青改性剂和石料品牌，不是面层类型本身"
        }
      },
      "data_quality_notes": {
        "trailing_spaces": "数据中存在'ZOAB'和'ZOAB '(带尾随空格)，应归为同一类",
        "case_sensitivity": "大小写不一致问题较少，但需要标准化",
        "missing_values": "存在少量空值，需要处理策略"
      },
      "date_added": "2025-11-05",
      "last_updated": "2025-11-05"
    },
    {
      "field_number": 18,
      "field_name_nl": "DIKTE VERHARDING",
      "field_name_en": "Pavement Thickness",
      "field_name_cn": "路面厚度",
      "data_type": "number",
      "unit": "millimeter",
      "required": true,
      "classification": "non-critical",
      "category": "material_specification",
      "validation_rules": {
        "type": "integer",
        "min": 20,
        "max": 150
      },
      "description": "Thickness of the surface layer in millimeters"
    },
    {
      "field_number": 19,
      "field_name_nl": "TUSSENLAAG",
      "field_name_en": "Binder Course / Intermediate Layer",
      "field_name_cn": "中间层 / 粘结层",
      "data_type": "string",
      "required": false,
      "classification": "non-critical",
      "category": "material_specification",
      "validation_rules": {
        "type": "string",
        "max_length": 50,
        "pattern": "^[A-Z0-9\\s\\/\\-]*$"
      },
      "description": "Binder course (intermediate layer) between surface layer (deklaag) and base layer (onderlaag). Can be pure binder, pure base, or hybrid base+bind layer.",
      "layer_definition": {
        "position": "位于面层(deklaag)与下面层(onderlaag/base)之间",
        "primary_role": "中间层/粘结层 (binder course)",
        "actual_usage": "既有纯粘结层，也有兼做中+下面层的混合层",
        "structural_function": [
          "粘结面层与下面层",
          "传递荷载",
          "提供结构强度",
          "某些情况下兼做基层功能"
        ]
      },
      "tussenlaag_types": {
        "AC_16_Bind": {
          "standard_name": "AC 16 Bind",
          "full_name": "Asfaltbeton 16mm Binder",
          "family": "AC",
          "gradation": 16,
          "role": "Bind",
          "description": "16mm AC粘结层，标准中间层",
          "usage": "荷兰设计图和RAW成本表中的标准中间层",
          "most_common": true
        },
        "AC_Bind": {
          "standard_name": "AC Bind",
          "full_name": "Asfaltbeton Binder (gradation unknown)",
          "family": "AC",
          "gradation": "unknown",
          "role": "Bind",
          "description": "AC粘结层，粒径未注明",
          "note": "可能是省略了16/22的粘结层，但保持unknown不做假设"
        },
        "AC_Bind_22": {
          "standard_name": "AC 22 Bind",
          "original_format": "AC Bind 22",
          "full_name": "Asfaltbeton 22mm Binder",
          "family": "AC",
          "gradation": 22,
          "role": "Bind",
          "description": "22mm AC粘结层（格式修正：Bind 22 → 22 Bind）",
          "note": "原始格式写反了顺序"
        },
        "AC_Base_22": {
          "standard_name": "AC 22 Base",
          "full_name": "Asfaltbeton 22mm Base",
          "family": "AC",
          "gradation": 22,
          "role": "Base",
          "description": "22mm AC下面层",
          "note": "这是Base不是Binder，但出现在TUSSENLAAG字段中",
          "typical_usage": "荷兰图纸中常见'onderlaag 80mm AC 22 base/OL-C'"
        },
        "AC_22_base_bind": {
          "standard_name": "AC 22 Base/Bind",
          "original_format": "AC 22 base-bind",
          "full_name": "Asfaltbeton 22mm Base/Bind Hybrid",
          "family": "AC",
          "gradation": 22,
          "role": "Base+Bind",
          "description": "AC 22 Base+Bind混合层",
          "structural_concept": "一层同时承担base + bind结构作用",
          "purpose": "减薄总厚度",
          "reference": "文献中有专门的'AC 22 base/bind hybride asfaltmengsel'"
        },
        "AC_16_OL_TL": {
          "standard_name": "AC 16 OL/TL",
          "full_name": "Asfaltbeton 16mm Onderlaag/Tussenlaag",
          "family": "AC",
          "gradation": 16,
          "role": "Base+Bind",
          "description": "AC 16通用层，可做底层也可做中层",
          "structural_concept": "配方既可作onderlaag (OL)也可作tussenlaag (TL)",
          "actual_usage_in_field": "在该工程中被当作中间层使用",
          "reference": "Ruschasfalt等搅拌站资料中有AC 16 OL/TL配方"
        },
        "AC_22_TL_C": {
          "standard_name": "AC 22 TL-C",
          "full_name": "Asfaltbeton 22mm Tussenlaag Coarse",
          "family": "AC",
          "gradation": 22,
          "role": "Bind",
          "gradation_type": "C (coarse/粗级配)",
          "description": "22mm粗级配AC中间层，标准binder",
          "typical_pairing": "tussenlaag 60/70mm AC 22 TL-C + onderlaag 75/80mm AC 22 OL-C",
          "note": "TL = tussenlaag (中间层), C = coarse (粗级配)",
          "reference": "设计图中大规模使用"
        },
        "STAB": {
          "standard_name": "STAB",
          "full_name": "Steenslagasfaltbeton",
          "name_cn": "碎石沥青混凝土",
          "family": "STAB",
          "gradation": null,
          "role": "Base+Bind",
          "description": "高稳定性AC族混合料",
          "usage": "重载路的中间层或下面层",
          "structural_flexibility": "可用作tussenlaag也可用作onderlaag",
          "reference": "Heijmans文档中将AC/stab归为'可用作中间层与下面层'"
        }
      },
      "standardization_rules": {
        "name_corrections": {
          "AC Bind 22": "AC 22 Bind",
          "AC Base 22": "AC 22 Base",
          "AC 22 base-bind": "AC 22 Base/Bind"
        },
        "preserve_as_is": [
          "AC Bind",
          "STAB"
        ],
        "note": "最小必要的格式修正，AC Bind和STAB保持原样"
      },
      "structural_fields": {
        "description": "建议新增3个结构化字段用于分析",
        "fields": {
          "tussenlaag_family": {
            "description": "材料家族",
            "values": ["AC", "STAB"],
            "purpose": "分类统计不同材料体系"
          },
          "tussenlaag_gradation": {
            "description": "粒径 (mm)",
            "values": [16, 22, "unknown"],
            "purpose": "分析粒径分布",
            "note": "AC Bind保持unknown，不假设为16mm"
          },
          "tussenlaag_role": {
            "description": "结构角色",
            "values": {
              "Bind": "纯中间层/粘结层",
              "Base": "纯下面层",
              "Base+Bind": "兼作中/下的混合层或通用层"
            },
            "decision_rules": {
              "Bind": "名称含'Bind'或'TL-C'且不含'Base'",
              "Base": "名称含'Base'且不含'Bind'",
              "Base+Bind": "名称含'base-bind'或'OL/TL'或为'STAB'"
            },
            "purpose": "严格区分纯粘结层与混合功能层"
          }
        },
        "usage_example": {
          "filter_pure_binder": "SELECT * WHERE tussenlaag_role = 'Bind'",
          "filter_hybrid": "SELECT * WHERE tussenlaag_role = 'Base+Bind'",
          "group_by_gradation": "GROUP BY tussenlaag_gradation"
        }
      },
      "data_quality_notes": {
        "role_mixing": "字段中既有纯Binder也有Base，甚至有Base+Bind混合层",
        "format_inconsistency": "格式不统一（AC Bind 22 vs AC 22 Bind）",
        "gradation_unknown": "AC Bind粒径未知，保持unknown不做假设",
        "stab_flexibility": "STAB可作中间层也可作下面层，具体角色需结合工程判断"
      },
      "typical_pavement_structure": {
        "description": "典型荷兰路面结构（从上到下）",
        "layers": [
          {
            "layer": "Deklaag (Surface/Wearing course)",
            "typical": "ZOAB, DZOAB, SMA, AC Surf",
            "field": "DEKLAAGSOORT (字段17)"
          },
          {
            "layer": "Tussenlaag (Binder course)",
            "typical": "AC 16 Bind, AC 22 Bind, AC 22 TL-C",
            "field": "TUSSENLAAG (字段19) - 本字段"
          },
          {
            "layer": "Onderlaag (Base course)",
            "typical": "AC 22 Base, AC 22 OL-C, STAB",
            "field": "未在当前数据中单独列出"
          },
          {
            "layer": "Fundatie (Sub-base)",
            "typical": "Granular materials",
            "field": "未在当前数据中列出"
          }
        ],
        "note": "某些情况下Tussenlaag与Onderlaag合并为一层（Base+Bind）"
      },
      "future_enhancement": {
        "suggestion": "建立多行层状结构数据模型",
        "concept": "每层一行记录（Deklaag / Tussenlaag / Onderlaag），形成完整的路面结构剖面",
        "benefits": [
          "清晰表达路面层状结构",
          "便于层间关系分析",
          "支持结构优化研究"
        ]
      },
      "date_added": "2025-11-05",
      "last_updated": "2025-11-05"
    },
    {
      "field_number": 20,
      "field_name_nl": "Mengselcode TUSSENLAAG",
      "field_name_en": "Binder Course Mixture Code",
      "field_name_cn": "中间层混合料代码",
      "data_type": "string",
      "required": false,
      "classification": "non-critical",
      "category": "material_specification",
      "validation_rules": {
        "pattern": "^[A-Z0-9\\s]*$",
        "required_when": {
          "field": "TUSSENLAAG",
          "not_equals": ["Nee", ""]
        }
      },
      "description": "Mixture code for binder course (if applicable)"
    },
    {
      "field_number": 21,
      "field_name_nl": "DIKTE TUSSENLAAG (indien van toepassing)",
      "field_name_en": "Binder Course Thickness",
      "field_name_cn": "中间层厚度",
      "data_type": "number",
      "unit": "millimeter",
      "required": false,
      "classification": "non-critical",
      "category": "material_specification",
      "validation_rules": {
        "type": "integer",
        "min": 40,
        "max": 100,
        "required_when": {
          "field": "TUSSENLAAG",
          "not_equals": ["Nee", ""]
        }
      },
      "description": "Thickness of binder course in millimeters (if applicable)"
    },
    {
      "field_number": 22,
      "field_name_nl": "AANLEGDATUM",
      "field_name_en": "Construction Date",
      "field_name_cn": "施工日期",
      "data_type": "date",
      "required": true,
      "classification": "critical",
      "category": "construction_record",
      "validation_rules": {
        "format": ["DD-MM-YYYY", "YYYY-MM-DD"],
        "min_year": 2000,
        "max_year": 2030
      },
      "description": "Date when the asphalt was laid"
    },
    {
      "field_number": 23,
      "field_name_nl": "ASFALTCENTRALE",
      "field_name_en": "Asphalt Plant",
      "field_name_cn": "沥青拌合站",
      "data_type": "string",
      "required": true,
      "classification": "non-critical",
      "category": "construction_record",
      "validation_rules": {
        "min_length": 1,
        "max_length": 200
      },
      "description": "Name or location of the asphalt mixing plant"
    },
    {
      "field_number": 24,
      "field_name_nl": "TONNEN",
      "field_name_en": "Tonnes",
      "field_name_cn": "吨数",
      "data_type": "number",
      "unit": "tonne",
      "required": true,
      "classification": "non-critical",
      "category": "quantity",
      "validation_rules": {
        "type": "float",
        "min": 0.1,
        "max": 100000,
        "european_format": true
      },
      "description": "Total weight of asphalt mixture used in tonnes"
    },
    {
      "field_number": 25,
      "field_name_nl": "evt. indien beschikbaar temperatuur (Productie)",
      "field_name_en": "Production Temperature",
      "field_name_cn": "生产温度",
      "data_type": "number",
      "unit": "celsius",
      "required": false,
      "classification": "non-critical",
      "category": "quality_parameter",
      "validation_rules": {
        "type": "integer",
        "min": 80,
        "max": 200
      },
      "description": "Temperature of asphalt mixture at production (if available)"
    },
    {
      "field_number": 26,
      "field_name_nl": "OPMERKINGENVELD",
      "field_name_en": "Remarks",
      "field_name_cn": "备注字段",
      "data_type": "string",
      "required": false,
      "classification": "non-critical",
      "category": "remarks",
      "validation_rules": {
        "max_length": 1000
      },
      "description": "Additional comments or special notes"
    }
  ],
  "field_groups": {
    "unique_identifier": [4, 5, 6, 7, 8, 9],
    "location": [4, 5, 6, 7, 8, 11, 12],
    "lane_info": [5, 6, 9, 10],
    "material": [15, 16, 17, 18, 19, 20, 21],
    "quantity": [13, 14, 24],
    "construction": [22, 23, 25],
    "project_info": [1, 2, 3]
  },
  "validation_notes": {
    "european_number_format": "Use comma (,) for decimal separator and dot (.) for thousands separator",
    "position_system": "Hectometer (hm) system: 1 hm = 100 meters",
    "negative_positions": "Negative values are allowed for positions before the road origin",
    "derived_fields": "KM_Van, KM_Tot, and Lengte should be validated against VAN and TOT",
    "conditional_required": "Some fields (10, 20, 21) are conditionally required based on other field values"
  },
  "reference_data": {
    "rijstroken_validator": "Documents/Validator - rijstroken.xlsx",
    "translation_reference": "Documents/Vertaallijst_EN-Nl_def2 (1).xlsx",
    "lane_type_explanation": "Documents/Hallo Peng Luuk.txt"
  }
}
